<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RMNDR3HB80"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-RMNDR3HB80');
    </script>
    <meta charset="UTF-8">
    <title>Gerador de Ordem de Serviço</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #121212;
            color: #ffffff;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        h1 {
            color: #ff4c4c;
            font-size: 32px;
            margin-bottom: 5px;
            text-align: center;
        }

        .creditos {
            font-style: italic;
            color: #aaaaaa;
            margin-bottom: 30px;
            text-align: center;
            font-size: 14px;
        }

        form#osForm {
            width: 450px;
            max-width: 90%;
            margin: 0 auto 40px auto;
            background-color: #1e1e1e;
            padding: 20px;
            border-radius: 10px;
        }

        label {
            font-weight: bold;
            color: #ffffff;
        }

        input, textarea, select {
            width: 100%;
            padding: 10px;
            margin: 6px 0 16px 0;
            box-sizing: border-box;
            background-color: #ffffff;
            color: #000000;
            border: 1px solid #333;
            border-radius: 8px;
        }

        button {
            padding: 10px 20px;
            background-color: #ff4c4c;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 8px;
            width: 100%;
            font-size: 16px;
        }

        button:hover {
            background-color: #e53935;
        }

        #osModal {
            display: none;
            position: fixed;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #1e1e1e;
            color: white;
            padding: 20px;
            border: 1px solid #555;
            z-index: 9999;
            width: 90%;
            max-width: 600px;
            max-height: 60vh;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        #osOutput {
            flex-grow: 1;
            overflow-y: auto;
            background-color: #222;
            padding: 15px;
            border-radius: 8px;
            max-height: 400px;
            white-space: pre-wrap;
            font-family: monospace;
            color: #ddd;
            margin-bottom: 15px;
        }

        .copy-btn, .fechar {
            display: none;
        }

        .copy-btn {
            background-color: #4caf50;
            align-self: flex-start;
            padding: 10px 20px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            margin-top: 15px;
        }

        .copy-btn:hover {
            background-color: #388e3c;
        }

        .fechar {
            align-self: flex-end;
            background-color: #ff4c4c;
            border: none;
            color: white;
            padding: 6px 12px;
            cursor: pointer;
            border-radius: 5px;
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 16px;
        }

        .fechar:hover {
            background-color: #c62828;
        }
    </style>
</head>
<body>

<h1>GERADOR DE O.S</h1>
<div class="creditos">Criador: Marcley Lima</div>

<form id="osForm">
    <label>PRIORIDADE:</label>
    <select id="prioridade">
        <option value="PADRÃO">Padrão</option>
        <option value="REINCIDENTE">Reincidente</option>
        <option value="REVERSÃO DE CANCELAMENTO">Reversão de Cancelamento</option>
    </select>

    <label>TIPO DE O.S.:</label>
    <select id="tipoOs" onchange="preencherRelatoOrientacao()">
        <option value="">-- Selecione --</option>
        <option value="drop-rompido">Manutenção - Drop rompido</option>
        <option value="potencia-atenuada">Manutenção - Potência atenuada</option>
        <option value="sem-conexao">Suporte - Sem conexão</option>
        <option value="link loss">Manutenção - link loss</option>
        <option value="Motivo Nao identificado">Manutenção - Motivo não identificado</option>
    </select>

    <label>TITULAR:</label>
    <input type="text" id="titular">

    <label>ENDEREÇO, Localização e CTO:</label>
    <textarea id="endereco"></textarea>

    <label>RESPONSÁVEL QUE RECEBERÁ A EQUIPE:</label>
    <input type="text" id="responsavel">

    <label>MELHOR HORÁRIO PARA ATENDIMENTO:</label>
    <select id="horario">
        <option value="">-- Selecione --</option>
        <option value="Manhã">Manhã</option>
        <option value="Tarde">Tarde</option>
        <option value="Comercial">Comercial</option>
    </select>

    <label>RELATO:</label>
    <textarea id="relato"></textarea>

    <label>ORIENTAÇÃO PARA OS TÉCNICOS:</label>
    <textarea id="orientacao"></textarea>

    <label>VALIDADOR:</label>
    <select id="validador">
        <option value="">-- Selecione --</option>
        <option value="THAIS COUTINHO">THAIS COUTINHO</option>
        <option value="MATHEUS PEREIRA">MATHEUS PEREIRA</option>
        <option value="ANDREI SOUSA">ANDREI SOUSA</option>
        <option value="DANIEL BRASIL">DANIEL BRASIL</option>
        <option value="ELEN TOCANTINS">ELEN TOCANTINS</option>
        <option value="PAULO HENRIQUE">PAULO HENRIQUE</option>
    </select>

    <button type="button" onclick="gerarOS()">Gerar Ordem de Serviço</button>
</form>

<!-- Modal de saída -->
<div id="osModal">
    <button class="fechar" onclick="fecharModal()">X</button>
    <pre id="osOutput"></pre>
    <button class="copy-btn" onclick="copiarOS()">Copiar OS para área de transferência</button>
</div>

<script>
    let osTexto = "";

    function preencherRelatoOrientacao() {
        const tipo = document.getElementById("tipoOs").value;
        const relato = document.getElementById("relato");
        const orientacao = document.getElementById("orientacao");

        if (tipo === "drop-rompido") {
            relato.value = "Cliente entrou em contato para relatar a falta de conexão à internet. Foi verificado que os cabos da fibra foram rompidos por um caminhão resultando na interrupção do serviço.";
            orientacao.value = "Fazer o lançamento do cabo drop verificando a melhor rota para restabelecer a conexão do cliente. Efetuar todos os testes de velocidade junto ao cliente e com o setor de Autenticação.";
        } else if (tipo === "potencia-atenuada") {
            relato.value = "O Cliente comunicou constante instabilidade em sua rede. Foi verificado que a potência que chega até o equipamento está atenuada resultando na interrupção do serviço.";
            orientacao.value = "Verificar a integridade do equipamento, dos cabos e dos conectores com o intuito de normalizar a potência que chega até o equipamento. Realizar todos os testes possíveis com o cliente para esclarecer qualquer dúvida que ele possa ter.";
        } else if (tipo === "sem-conexao") {
            relato.value = "O cliente nos informou que está com problemas com sua internet. Tentamos configurar sua conexão remotamente, porém o problema não foi resolvido.";
            orientacao.value = "Verificar a integridade do equipamento, Verificar a integridade dos conectores. Caso necessário EFETUAR A TROCA DO EQUIPAMENTO. Efetuar todos os testes de velocidade junto ao cliente e com o setor de Autenticação.";
        } else if (tipo === "link loss") {
            relato.value = "Cliente relata estar sem conexão, foi verificado que o status do equipamento está em link-loss o que indica um possível rompimento da fibra ou defeito no equipamento.";
            orientacao.value = "Verificar a integridade do equipamento, dos cabos e dos conectores. Efetuar todos os testes de velocidade junto ao cliente e com o setor de Autenticação.";
        } else if (tipo === "Motivo Nao identificado") {
            relato.value = "O cliente nos informou que está com problemas com sua internet. Tentamos configurar sua conexão remotamente, porém o problema não foi resolvido.";
            orientacao.value = "Verificar a integridade do equipamento, Verificar a integridade dos conectores. Caso necessário EFETUAR A TROCA DO EQUIPAMENTO. Efetuar todos os testes de velocidade junto ao cliente e com o setor de Autenticação.";
        } else {
            relato.value = "";
            orientacao.value = "";
        }
    }

    function gerarOS() {
        preencherRelatoOrientacao();

        const prioridade = document.getElementById("prioridade").value;
        const tipoOs = document.getElementById("tipoOs").options[document.getElementById("tipoOs").selectedIndex].text;
        const titular = document.getElementById("titular").value;
        const endereco = document.getElementById("endereco").value;
        const responsavel = document.getElementById("responsavel").value;
        const horario = document.getElementById("horario").value;
        const relato = document.getElementById("relato").value;
        const orientacao = document.getElementById("orientacao").value;
        const validador = document.getElementById("validador").value;

        osTexto = `
ORDEM DE SERVIÇO

PRIORIDADE: ${prioridade}
TIPO DE O.S.: ${tipoOs}

TITULAR:${titular}

ENDEREÇO, Localização e CTO:${endereco}

RESPONSÁVEL QUE RECEBERÁ A EQUIPE:${responsavel}

MELHOR HORÁRIO PARA ATENDIMENTO:${horario}

RELATO:${relato}

ORIENTAÇÃO PARA OS TÉCNICOS:${orientacao}

VALIDADOR:${validador}

`;
        document.getElementById("osOutput").innerText = osTexto;
        document.getElementById("osModal").style.display = "flex";
        document.querySelector(".copy-btn").style.display = "inline-block";
        document.querySelector(".fechar").style.display = "inline-block";
    }

    function copiarOS() {
        const botaoCopiar = document.querySelector(".copy-btn");

        navigator.clipboard.writeText(osTexto).then(() => {
            const textoOriginal = botaoCopiar.innerText;
            botaoCopiar.innerText = "✅ Copiado!";
            botaoCopiar.disabled = true;

            // Resetar o formulário
            document.getElementById("osForm").reset();
            document.getElementById("relato").value = "";
            document.getElementById("orientacao").value = "";

            setTimeout(() => {
                botaoCopiar.innerText = textoOriginal;
                botaoCopiar.disabled = false;
                fecharModal();
            }, 3000);
        }).catch(err => {
            alert("Erro ao copiar: " + err);
        });
    }

    function fecharModal() {
        document.getElementById("osModal").style.display = "none";
    }

    window.onload = function() {
        document.getElementById("osModal").style.display = "none";
    }
</script>

</body>
</html>

